{
  "configurations": [
    {
      "streamline-common": {
        "properties": {
          "database_name": "streamline",
          "streamline.storage.connector.user": "streamline",
          "streamline.storage.type": "mysql",
          "registry.url": "http://%HOSTGROUP::master_2%:7788/api/v1",
          "jar.storage": "/grid/0/hdf/streamline/jars",
          "streamline.dashboard.url": "http://%HOSTGROUP::master_2%:9090",
          "topology.test.results.dir": "/grid/0/hdf/streamline/topology_test_results",
          "streamline.storage.connector.password": "streamline",
          "streamline.storage.connector.connectURI": "jdbc:mysql://localhost:3306/streamline",
          "jar.storage.type": "local"
        }
      }
    },
    {
      "nifi-ambari-ssl-config": {
        "properties": {
          "content": "<property name=\"Node Identity 1\">CN=%HOSTGROUP::master_3%, OU=NIFI</property>\n\n<property name=\"Node Identity 2\">CN=%HOSTGROUP::master_4%, OU=NIFI</property>\n\n<property name=\"Node Identity 3\">CN=%HOSTGROUP::master_5%, OU=NIFI</property>\n\n"
        }
      }
    },
    {
      "nifi-ambari-config": {
        "properties": {
          "nifi.max_mem": "4G",
          "nifi.initial_mem": "4G",
          "nifi.content.repository.dir.default": "/grid/0/nifi/content_repository",
          "nifi.flowfile.repository.dir": "/grid/0/nifi/flowfile_repository",
          "nifi.provenance.repository.dir.default": "/grid/0/nifi/provenance_repository",
          "nifi.database.dir": "/grid/0/nifi/database_repository",
          "nifi.sensitive.props.key": "Hortonworks@123",
          "nifi.security.encrypt.configuration.password": "Hortonworks@123"
        }
      }
    },
    {
      "nifi-ambari-ssl-config": {
        "properties": {
          "nifi.node.ssl.isenabled": "false",
          "nifi.toolkit.tls.token": "Hortonworks@123",
          "nifi.initial.admin.identity": "hrt_qa@HWX.VIBGYOR.COM"
        }
      }
    },
    {
      "registry-common": {
        "properties": {
          "database_name": "registry",
          "jar.storage": "/grid/0/hdf/registry",
          "registry.storage.connector.user": "registry",
          "registry.storage.type": "mysql",
          "registry.storage.connector.password": "registry",
          "registry.storage.connector.connectURI": "jdbc:mysql://localhost:3306/registry",
          "jar.storage.type": "local"
        }
      }
    },
    {
      "storm-site": {
        "properties": {
          "storm.local.dir": "/grid/0/hadoop/storm"
        }
      }
    },
    {
      "nifi-properties": {
        "properties": {
          "nifi.content.repository.directory.dir1": "/grid/0/nifi/content_repository",
          "nifi.provenance.repository.directory.dir1": "/grid/0/nifi/provenance_repository",
          "nifi.security.identity.mapping.pattern.dn": "^CN=(.*?), OU=(.*?)$",
          "nifi.security.identity.mapping.pattern.kerb": "^(.*?)/instance@(.*?)$",
          "nifi.security.identity.mapping.value.dn": "$1@$2",
          "nifi.security.identity.mapping.value.kerb": "$1@$2",
          "nifi.web.https.network.interface.default": "eth0",
          "nifi.cluster.node.protocol.threads": "20",
          "nifi.cluster.node.connection.timeout": "30 secs",
          "nifi.cluster.node.read.timeout": "30 secs"
        }
      }
    },
    {
      "ams-hbase-site": {
        "properties": {
          "hbase.rootdir": "file:///grid/0/var/lib/ambari-metrics-collector/hbase",
          "hbase.tmp.dir": "/grid/0/var/lib/ambari-metrics-collector/hbase-tmp"
        }
      }
    },
    {
      "infra-solr-env": {
        "properties": {
          "infra_solr_datadir": "/grid/0/ambari_infra_solr/data"
        }
      }
    }
  ],
  "host_groups": [
    {
      "components": [
        {
          "name": "ZOOKEEPER_SERVER"
        },
        {
          "name": "AMBARI_SERVER"
        },
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "SUPERVISOR"
        },
        {
          "name": "INFRA_SOLR"
        },
        {
          "name": "INFRA_SOLR_CLIENT"
        },
        {
          "name": "LOGSEARCH_LOGFEEDER"
        },
        {
          "name": "LOGSEARCH_SERVER"
        },
        {
          "name": "METRICS_COLLECTOR"
        },
        {
          "name": "METRICS_GRAFANA"
        },
        {
          "name": "NIFI_CA"
        },
        {
          "name": "NIMBUS"
        },
        {
          "name": "DRPC_SERVER"
        },
        {
          "name": "STORM_UI_SERVER"
        }
      ],
      "configurations": [],
      "name": "master_1",
      "cardinality": "1"
    },
    {
      "components": [
        {
          "name": "REGISTRY_SERVER"
        },
        {
          "name": "ZOOKEEPER_SERVER"
        },
        {
          "name": "STREAMLINE_SERVER"
        },
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "SUPERVISOR"
        },
        {
          "name": "LOGSEARCH_LOGFEEDER"
        },
        {
          "name": "INFRA_SOLR"
        },
        {
          "name": "INFRA_SOLR_CLIENT"
        },
        {
          "name": "NIMBUS"
        }
      ],
      "configurations": [],
      "name": "master_2",
      "cardinality": "1"
    },
    {
      "components": [
        {
          "name": "ZOOKEEPER_SERVER"
        },
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "SUPERVISOR"
        },
        {
          "name": "NIFI_MASTER"
        },
        {
          "name": "LOGSEARCH_LOGFEEDER"
        },
        {
          "name": "INFRA_SOLR"
        },
        {
          "name": "INFRA_SOLR_CLIENT"
        },
        {
          "name": "KAFKA_BROKER"
        }
      ],
      "configurations": [],
      "name": "master_3",
      "cardinality": "1"
    },
    {
      "components": [
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "NIFI_MASTER"
        },
        {
          "name": "LOGSEARCH_LOGFEEDER"
        },
        {
          "name": "ZOOKEEPER_CLIENT"
        },
        {
          "name": "SUPERVISOR"
        },
        {
          "name": "KAFKA_BROKER"
        }
      ],
      "configurations": [],
      "name": "master_4",
      "cardinality": "1"
    },
    {
      "components": [
        {
          "name": "METRICS_MONITOR"
        },
        {
          "name": "KAFKA_BROKER"
        },
        {
          "name": "NIFI_MASTER"
        },
        {
          "name": "LOGSEARCH_LOGFEEDER"
        },
        {
          "name": "ZOOKEEPER_CLIENT"
        },
        {
          "name": "SUPERVISOR"
        }
      ],
      "configurations": [],
      "name": "master_5",
      "cardinality": "1"
    }
  ],
  "Blueprints": {
    "blueprint_name": "{{ cluster_name }}",
    "stack_name": "HDF",
    "stack_version": "3.1"
  }
}
